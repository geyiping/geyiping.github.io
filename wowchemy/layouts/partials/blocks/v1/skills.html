{{/* Wowchemy Blocks: Skills */}}
{{/* Documentation: https://wowchemy.com/blocks/ */}}
{{/* License: https://github.com/wowchemy/wowchemy-hugo-themes/blob/main/LICENSE.md */}}

{{/* Initialise */}}
{{ $page := .wcPage }}
{{ $block := .wcBlock }}
{{ $columns := $block.design.columns | default "1" }}

<!-- Skills widget -->
<div class="col-12 {{if eq $columns "2"}}col-lg-8{{end}}">
  {{ with $block.content.text }}{{ . | emojify | $page.RenderString }}{{ end }}

  {{ if $block.content.items }}
  {{ range $idx, $key := sort $block.content.items ".date_start" "desc" }}
    <div class="card experience course">
      <div class="card-body">
        {{- $svg_icon := resources.Get (printf "media/icons/brands/%s.png" (replace (lower .images) " " "_")) -}}
        {{- if $svg_icon }}
        <div class="d-flex align-content-start">
          <div class="mr-2 mb-2">
            <img src="{{ $svg_icon.RelPermalink }}" width="56px" height="56px" alt="{{.subtitle | plainify}}" loading="lazy">
          </div>
          <div>
        {{ end }}
            <div class="section-subheading card-title exp-title text-muted my-0">{{.title | markdownify | emojify}}</div>

            <div class="card-subtitle my-0 article-metadata">
              {{- .subtitle | markdownify | emojify -}}
            </div>

        {{- if $svg_icon}}
          </div>
        </div>
        {{end}}

        {{with .description}}
          <div class="card-text">{{. | markdownify | emojify}}</div>
        {{end}}

        {{ with .certificate_url }}
          <a class="card-link" href="{{.}}" target="_blank" rel="noopener">
            {{ i18n "see_certificate" | default "See certificate" }}
          </a>
        {{ end }}
      </div>
    </div>
  {{end}}
  {{end}}
</div>
